<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>File Storage Module Smoke Test</title>
    <style>
      :root {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI',
          sans-serif;
        background: #1a1a1a;
        color: #f5f5f5;
      }
      body {
        margin: 0;
        min-height: 100vh;
        display: grid;
        place-items: center;
      }
      .card {
        padding: 2rem;
        border-radius: 0.75rem;
        background: rgba(255, 255, 255, 0.05);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25);
        text-align: center;
      }
      .status {
        font-size: 1.25rem;
        margin-top: 0.5rem;
      }
    </style>
  </head>
  <body>
    <div class="card">
      <h1>File Storage Module Smoke Test</h1>
      <p class="status" id="status">Initializingâ€¦</p>
    </div>
    <script type="module">
      import fileStorageModule from '../js/fileStorageModule.mjs';

      const statusEl = document.getElementById('status');

      const updateStatus = (message, isError = false) => {
        statusEl.textContent = message;
        statusEl.style.color = isError ? '#ff6b6b' : '#7df5a1';
      };

      fileStorageModule
        .init()
        .then(() => {
          updateStatus('module loaded');
          window.__fileStorageSmoke = { ok: true };
          console.info('[file-storage-module] module loaded');
        })
        .catch((error) => {
          updateStatus('module failed');
          window.__fileStorageSmoke = { ok: false, error };
          console.error('[file-storage-module] init failed', error);
        });
    </script>
  </body>
</html>
